# ベストプラクティスの説明

moduleフォルダ内で表現されているベストプラクティスを以下にまとめます。

## リソースの命名規則

- リソースの命名には、スネークケースを採用しています。
- リソース名は命名規則を厳密に定義することが難しく、外部リソースからの参照の際に混乱しやすいため、基本的にリソース名は`main`にし、表示を簡素にしています。
- 重複していて`main`というリソース名が付けられない場合は、リソースタイプは繰り返さず、意味のあるリソース名を指定しています。

## 変数(variable)

- 変数の内容は`variables.tf`に記載しています。
- 全ての変数にdescriptionを設定し、変数の用途や目的が分かるようにしています。
- 変数の定義型を指定し、不要なエラーが発生しないようにしています。
- module内でのみ利用されるが、繰り返し利用される値はlocal変数を利用しています。

## 出力(output)

- 出力すべき内容は`output.tf`に記載しています。
- 全ての出力にdescriptionを設定し、出力の内容が分かるようにしています。
- 参照する可能性がある出力は全て出力します。
- リソースに対して、最低1つの値はoutputとして設定しています。
- 出力に設定する値は、入力変数を`var`で指定せず、リソース作成によって得られた値を利用しています。

## プロバイダ(provider)

- クラウドプロバイダに関する設定を`provider.tf`に記載しています。
- moduleが最低限必要とするクラウドプロバイダのバージョンを記載しています。

## REAMDE

- 各moduleフォルダには、 terraform-docsを利用して作成したREADMEを配置しています。
- module利用者は必要な変数や出力をREADMEを見ることで把握することができます。



[参考リンク](https://cloud.google.com/docs/terraform/best-practices-for-terraform?hl=ja#naming-convention)

